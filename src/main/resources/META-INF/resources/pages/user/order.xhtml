<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/general/template.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
>

<ui:define name="content">
	 	<p:outputPanel style="text-align:center">
	        <h2>Consulta y Crea Orden</h2>
	    </p:outputPanel>
		
	<h:form id="orderForm">
	    <p:messages id="messages" showDetail="true" closable="true">
	        <p:autoUpdate />
	    </p:messages>
	    <p:outputPanel deferred="true" style="padding-left:2%">
	        <h3>Agregar Producto</h3>
	    </p:outputPanel>
		<h:panelGrid columns="5" style="margin:30px" cellpadding="5" id="orderPanel">
		    <p:selectOneMenu id="product" value="#{orderView.item}" >
		    	<f:selectItem itemLabel="Selecciona" itemValue="" />
		        <!-- <f:selectItems value="#{orderView.lstProducts}" /> -->
		         <f:selectItems value="#{orderView.lstProductsprice.entrySet()}" var="entry" itemValue="#{entry.key}" itemLabel="#{entry.value}" />
			</p:selectOneMenu>
			<h:outputLabel value="Cantidad:" style="font-weight:bold" />
	        <p:inputText id="cantidad" value="#{orderView.cantidad}" size="5"/>
	        <p:commandButton value="Agregar" action="#{orderView.addItem}" update="orden orderPanel" icon="pi pi-check" />
	        <p:commandButton value="Quitar" action="#{orderView.removeItem}" update="orden orderPanel" icon="pi pi-check" /> 
		</h:panelGrid>
	<p:dataTable var="order" value="#{orderView.orderShow}" id="orden" 
			resizableColumns="true" style="width:25%;margin:auto"
			 emptyMessage="Agrega Productos a tu Orden" >
	    <p:column headerText="Producto">
	        <h:outputText value="#{order.key}" />
	    </p:column>
	 
	    <p:column headerText="Cantidad">
	        <h:outputText value="#{order.value}" />
	    </p:column>
	 	 
	</p:dataTable>
	<br />
	<h:panelGrid style="margin:auto">
		<p:commandButton value="Guardar" action="#{orderView.saveOrder}" update="orden orderPanel" >
			<em class="fa fa-save"/>
		</p:commandButton>
	</h:panelGrid>
	</h:form>
	<div class="EmptyBox10"/>
	<hr />
  	<p:outputPanel style="padding-left:2%">
        <h3>Status de tus Ordenes</h3>
    </p:outputPanel>
	<h:form>
	
	</h:form>	
</ui:define>
    
</ui:composition>